/**
 * FP Performance Suite - Risk Tooltip Component
 * 
 * Sistema tooltip completamente ricostruito da zero
 * Isolato, minimale, senza conflitti
 * 
 * @package FP\PerfSuite
 */

/* ============================================
   RISK INDICATOR (Pallino colorato)
   ============================================ */
.fp-ps-risk-indicator {
	position: relative;
	display: inline-flex;
	align-items: center;
	cursor: help;
	vertical-align: middle;
}

/* Pallino colorato */
.fp-ps-risk-indicator::before {
	content: '';
	display: inline-block;
	width: 12px;
	height: 12px;
	border-radius: 50%;
	margin-right: 6px;
	flex-shrink: 0;
	transition: transform 0.2s ease;
}

.fp-ps-risk-indicator.green::before {
	background-color: #1f9d55;
}

.fp-ps-risk-indicator.amber::before {
	background-color: #f1b814;
}

.fp-ps-risk-indicator.red::before {
	background-color: #d94452;
}

.fp-ps-risk-indicator:hover::before {
	transform: scale(1.3);
}

/* ============================================
   TOOLTIP CONTAINER
   ============================================ */
.fp-ps-risk-tooltip {
	/* Base: nascosto di default */
	display: none !important;
	position: fixed !important;
	z-index: 999999999 !important;
	
	/* Dimensioni */
	min-width: 350px;
	max-width: 480px;
	width: auto;
	height: auto;
	min-height: auto;
	max-height: 80vh;
	
	/* Stile */
	background: #1e293b !important;
	background-color: #1e293b !important;
	border: 2px solid rgba(255, 255, 255, 0.15) !important;
	border-radius: 8px !important;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
	box-sizing: border-box !important;
	
	/* Testo */
	color: #ffffff !important;
	font-size: 14px !important;
	line-height: 1.75 !important;
	padding: 18px 22px !important;
	
	/* Visibilità */
	opacity: 0 !important;
	visibility: hidden !important;
	pointer-events: none !important;
	overflow: visible !important;
	
	/* Reset per evitare ereditarietà da parent */
	top: auto !important;
	left: auto !important;
	right: auto !important;
	bottom: auto !important;
	margin: 0 !important;
}

/* Tooltip visibile - gestito da JavaScript */
.fp-ps-risk-tooltip.is-visible {
	display: block !important;
	opacity: 1 !important;
	visibility: visible !important;
	pointer-events: auto !important;
}

/* ============================================
   TOOLTIP CONTENT
   ============================================ */
.fp-ps-risk-tooltip-content {
	width: 100%;
	height: auto;
	min-height: auto;
	max-height: none;
	overflow: visible;
}

.fp-ps-risk-tooltip-title {
	display: flex;
	align-items: center;
	gap: 8px;
	margin: 0 0 14px 0;
	padding: 0;
	font-size: 16px;
	font-weight: 600;
	line-height: 1.4;
	color: #ffffff;
}

.fp-ps-risk-tooltip-title .icon {
	font-size: 15px;
}

/* Colori titolo per livello di rischio */
.fp-ps-risk-tooltip.green .fp-ps-risk-tooltip-title {
	color: #86efac;
}

.fp-ps-risk-tooltip.amber .fp-ps-risk-tooltip-title {
	color: #fde047;
}

.fp-ps-risk-tooltip.red .fp-ps-risk-tooltip-title {
	color: #fca5a5;
}

.fp-ps-risk-tooltip-section {
	margin-top: 14px;
	padding-top: 14px;
	border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.fp-ps-risk-tooltip-section:first-of-type {
	margin-top: 0;
	padding-top: 0;
	border-top: none;
}

.fp-ps-risk-tooltip-label {
	font-weight: 700;
	font-size: 10px;
	text-transform: uppercase;
	letter-spacing: 1px;
	margin: 0 0 6px 0;
	padding: 0;
	color: rgba(255, 255, 255, 0.8);
}

.fp-ps-risk-tooltip-text {
	font-size: 13px;
	line-height: 1.7;
	color: rgba(255, 255, 255, 0.95);
	margin: 0 0 10px 0;
	padding: 0;
	word-wrap: break-word;
	overflow-wrap: break-word;
}

.fp-ps-risk-tooltip-text:last-child {
	margin-bottom: 0;
}

/* ============================================
   TOOLTIP ARROW
   ============================================ */
.fp-ps-risk-tooltip::after {
	content: '';
	position: absolute;
	width: 0;
	height: 0;
	border: 8px solid transparent;
	pointer-events: none;
	z-index: 999999999;
}

/* Freccia in basso (tooltip sopra l'indicatore) - default */
.fp-ps-risk-tooltip::after {
	top: 100%;
	left: var(--arrow-left, 50%);
	transform: translateX(-50%);
	border-top-color: #1e293b;
}

/* Freccia in alto (tooltip sotto l'indicatore) */
.fp-ps-risk-tooltip.arrow-top::after {
	top: auto;
	bottom: 100%;
	border-top-color: transparent;
	border-bottom-color: #1e293b;
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 782px) {
	.fp-ps-risk-tooltip {
		min-width: 300px;
		max-width: 90vw;
		padding: 16px 20px;
		font-size: 13px;
	}
	
	.fp-ps-risk-tooltip-title {
		font-size: 15px;
	}
	
	.fp-ps-risk-tooltip-text {
		font-size: 12px;
		line-height: 1.6;
	}
}
